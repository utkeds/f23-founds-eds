topic = "directory",
filters = list(year = 2021, grade = 12))
View(df)
df_3 <- get_education_data(level = "school-district",
source = "ccd",
topic = "directory",
filters = list(year = 2021))
df_3 <- get_education_data(level = "school-districts",
source = "ccd",
topic = "directory",
filters = list(year = 2021))
df_3 <- as_tibble(df_3)
df_3 %>% skim(ncessch)
View(df_3)
View(df_3)
df_3 %>% skim(leaid) # how many schools in the U.S.
View(df)
df <- get_education_data(
level = "college-university",
source = "ipeds",
topic = "enrollment-headcount",
filters = list(year = c(2018), level_of_study = "undergraduate")
)
df %>%
select(unitid) %>%
unique() %>%
length()
length(unique(df$unitid))
df %>%
select(unitid)
df %>%
select(unitid) %>%
unique()
df %>%
select(unitid) %>%
unique() %>%
length()
df %>%
select(unitid) %>%
unique() %>%
length(unitid)
df %>%
select(unitid) %>%
unique() %>%
length(., unitid)
df %>%
select(unitid) %>%
unique() %>%
n()
df %>%
select(unitid) %>%
unique() %>%
count()
length(unique(df$unitid))
mtcars %>% pull(am) %>% length()
df %>%
pull(unitid) %>%
unique() %>%
length()
df <- get_education_data(
level = "college-university",
source = "ipeds",
topic = "enrollment-headcount",
filters = list(year = c(2018), level_of_study = "undergraduate")
)
filtered_data <- dat %>%
filter(State == "TN")
dat <- tibble(
ID = c(1, 2, 3),
Name = c("Alice", "Bob", "Charlie", "Stefanie"),
Age = c(25, 30, 22, 39),
State = c("TN", "NC", "CA", "TN")
)
library(dplyr)
dat <- tibble(
ID = c(1, 2, 3),
Name = c("Alice", "Bob", "Charlie", "Stefanie"),
Age = c(25, 30, 22, 39),
State = c("TN", "NC", "CA", "TN")
)
dat
selected_data <- dat %>%
select(Name, Age)
dat <- tibble(
ID = c(1, 2, 3),
Name = c("Alice", "Bob", "Charlie", "Stefanie"),
Age = c(25, 30, 22, 39),
State = c("TN", "NC", "CA", "TN")
)
dat <- tibble(
ID = c(1, 2, 3, 4),
Name = c("Alice", "Bob", "Charlie", "Stefanie"),
Age = c(25, 30, 22, 39),
State = c("TN", "NC", "CA", "TN")
)
dat
selected_data <- dat %>%
select(Name, Age)
selected_data
selected_renamed_data <-
selected_data %>%
rename(name = Name, age = Age)
df <- data.frame(team = c('A', 'A', 'A', 'A', 'B', 'B', 'B', 'C', 'C', 'C'),
points = c(12, 28, 19, 22, 32, 45, 22, 28, 13, 19),
rebounds = c(5, 7, 7, 12, 11, 4, 10, 7, 8, 8))
library(dplyr)
df
library(dplyr)
ratio <- get_education_data(level = "college-university",
source = "ipeds",
topic = "student-faculty-ratio",
filters = list(year = 2020))
library(educationdata)
library(tidyverse)
ratio <- get_education_data(level = "college-university",
source = "ipeds",
topic = "student-faculty-ratio",
filters = list(year = 2020))
retention <- get_education_data(level = "college-university",
source = "ipeds",
topic = "fall-retention",
filters = list(year = 2020))
View(ratio)
View(retention)
View(ratio)
ratio %>%
count(unitid)
ratio %>%
distinct(unitid) %>%
count()
retention %>% nrow()
View(ratio)
ratio <- get_education_data(
level = "college-university",
source = "ipeds",
topic = "student-faculty-ratio",
filters = list(year = 2020)
)
library(educationdata)
library(tidyverse)
ratio <- get_education_data(
level = "college-university",
source = "ipeds",
topic = "student-faculty-ratio",
filters = list(year = 2020)
)
retention <- get_education_data(
level = "college-university",
source = "ipeds",
topic = "fall-retention",
filters = list(year = 2020)
)
ratio <- as_tibble(ratio)
ratio <- ratio %>%
select(unitid, student_faculty_ratio) # to simply the data
retention <- as_tibble(retention)
retention <- retention %>%
filter(ftpt == 99) %>% # let's look at the total of both full (1) and part-time (2) students
select(unitid, retention_rate) # to simply the data
combined_data <- inner_join(ratio, retention, by = c("unitid"))
combined_data <- combined_data %>%
mutate(
student_faculty_ratio_rank = min_rank(student_faculty_ratio),
retention_rate_rank = min_rank(retention_rate)
) %>%
select(unitid, student_faculty_ratio_rank, retention_rate_rank)
final_ranks <- combined_data %>%
mutate(total_rank = (student_faculty_ratio_rank + retention_rate_rank) / 2) %>%
arrange(total_rank)
final_ranks
directory <- get_education_data(level = "college-university",
source = "ipeds",
topic = "directory",
filters = list(year = 2020))
directory <- directory %>%
select(unitid, inst_name)
final_ranks %>%
left_join(directory) %>%
select(inst_name, total_rank)
View(final_ranks)
ratio <- get_education_data(
level = "college-university",
source = "ipeds",
topic = "student-faculty-ratio",
filters = list(year = 2020)
)
View(ratio)
library(educationdata)
library(tidyverse)
ratio <- get_education_data(
level = "college-university",
source = "ipeds",
topic = "student-faculty-ratio",
filters = list(year = 2020)
)
View(ratio)
ratio %>% distinct(unitid) %>% count()
retention <- get_education_data(
level = "college-university",
source = "ipeds",
topic = "fall-retention",
filters = list(year = 2020)
)
View(retention)
retention %>% distinct(unitid) %>% count()
ratio <- as_tibble(ratio)
ratio <- ratio %>%
select(unitid, student_faculty_ratio) # to simply the data
View(ratio)
retention <- as_tibble(retention)
retention <- retention %>%
filter(ftpt == 99) %>% # let's look at the total of both full (1) and part-time (2) students
select(unitid, retention_rate) # to simply the data
View(retention)
combined_data <- inner_join(ratio, retention, by = c("unitid"))
View(combined_data)
View(combined_data)
combined_data <- combined_data %>%
mutate(
student_faculty_ratio_rank = min_rank(student_faculty_ratio),
retention_rate_rank = min_rank(retention_rate)
)
View(combined_data)
combined_data <- combined_data %>%
mutate(
student_faculty_ratio_rank = min_rank(student_faculty_ratio),
retention_rate_rank = min_rank(retention_rate)
) %>%
select(unitid, student_faculty_ratio_rank, retention_rate_rank)
View(combined_data)
final_ranks <- combined_data %>%
mutate(total_rank = (student_faculty_ratio_rank + retention_rate_rank) / 2)
View(final_ranks)
final_ranks <- combined_data %>%
mutate(total_rank = (student_faculty_ratio_rank + retention_rate_rank) / 2) %>%
arrange(total_rank)
directory <- get_education_data(level = "college-university",
source = "ipeds",
topic = "directory",
filters = list(year = 2020))
View(directory)
directory <- directory %>%
select(unitid, inst_name)
View(directory)
final_ranks %>%
left_join(directory) %>%
select(inst_name, total_rank)
data <- get_education_data(level = "college-university",
source = "ipeds",
topic = "salaries-instructional-staff",
filters = list(year = 2016,
sex = c(1, 2)))
mtcars
mtcars |>
left_join(mtcars)
library(dplyr)
mtcars |>
left_join(mtcars)
mtcars
grouped_data <- mtcars %>%
group_by(cyl)
grouped_data # the data is now "grouped" by district_name
grouped_data %>%  # the data is now "grouped" by district_name
head()
grouped_data <- mtcars %>%
group_by(cyl)
grouped_data %>%  # the data is now "grouped" by district_name
head()
grouped_data <- mtcars %>%
group_by(cyl) %>%
head()
mtcars %>%
group_by(cyl) %>%
head()
mtcars %>%
group_by(cyl, vs) # the data is now "grouped" by cyl *and* vs
mtcars %>%
summarize(mean_mpg = mean(mpg))
mtcars %>%
group_by(cyl) %>%
summarize(mean_mpg = mean(mpg),
hp = max(hp),
wt = range(wt))
mtcars %>%
group_by(cyl) %>%
summarize(mean_mpg = mean(mpg),
hp = max(hp),
wt = range(wt))
mtcars %>%
group_by(cyl) %>%
summarize(mean_mpg = mean(mpg),
max_mpg = max(mpg),
range_mpg = range(mpg))
mtcars %>%
group_by(cyl) %>%
summarize(n = n(),
mean_mpg = mean(mpg))
mtcars %>%
summarize(mean_mpg = mean(mpg))
library(palmerpenguins)
library(tidyverse)
penguins
grouped_data <- penguins %>%
group_by(species)
grouped_data # the data is now "grouped" by species
grouped_data_2 <- penguins %>%
group_by(species, island)
grouped_data2 # the data is now "grouped" by species and island
grouped_data %>%
summarize(mean_body_weight_g = mean(body_weight_g))
grouped_data <- penguins %>%
group_by(species)
grouped_data # the data is now "grouped" by species
grouped_data_2 <- penguins %>%
group_by(species, island)
grouped_data_2 # the data is now "grouped" by species and island
grouped_data %>%
summarize(mean_body_weight_g = mean(body_weight_g))
grouped_data
grouped_data %>%
summarize(mean_body_mass_g = mean(body_mass_g))
mean_vals_for_penguins <-
penguins %>%
group_by(species, island) %>%
summarize(across(is.numeric), mean, na.rm = TRUE) # what if we don't add na.rm = TRUE? try this out!
summarize(across(is.numeric, ~ mean, na.rm = TRUE)() # what if we don't add na.rm = TRUE? try this out!
mean_vals_for_penguins <-
summarize(across(is.numeric(, ~ mean, na.rm = TRUE) # what if we don't add na.rm = TRUE? try this out!
group_by(species, island) %>%
summarize(across(is.numeric(, ~ mean, na.rm = TRUE)) # what if we don't add na.rm = TRUE? try this out!
mean_vals_for_penguins <-
penguins %>%
group_by(species, island) %>%
summarize(across(is.numeric(, ~ mean, na.rm = TRUE))) # what if we don't add na.rm = TRUE? try this out!
mean_vals_for_penguins <-
penguins %>%
group_by(species, island) %>%
summarize(across(is.numeric), ~ mean, na.rm = TRUE)) # what if we don't add na.rm = TRUE? try this out!
mean_vals_for_penguins <-
penguins %>%
group_by(species, island) %>%
summarize(across(is.numeric), ~ mean, na.rm = TRUE) # what if we don't add na.rm = TRUE? try this out!
mean_vals_for_penguins <-
penguins %>%
group_by(species, island) %>%
summarize(across(is.numeric), ~ mean(.x, na.rm = TRUE)) # what if we don't add na.rm = TRUE? try this out!
mean_vals_for_penguins <-
penguins %>%
group_by(species, island) %>%
summarize(across(is.numeric, ~ mean(.x, na.rm = TRUE))) # what if we don't add na.rm = TRUE? try this out!
mean_vals_for_penguins
library(palmerpenguins)
library(tidyverse)
penguins
grouped_data <- penguins %>%
group_by(species)
grouped_data
grouped_data_2 <- penguins %>%
group_by(species, island)
grouped_data_2
grouped_data
grouped_data %>%
summarize(mean_body_mass_g = mean(body_mass_g))
grouped_data %>%
summarize(mean_body_mass_g = mean(body_mass_g, na.rm = TRUE))
grouped_data_2
grouped_data_2 %>%
summarize(mean_body_mass_g = mean(body_mass_g))
grouped_data_2 %>%
summarize(mean_body_mass_g = mean(body_mass_g, na.rm = TRUE))
grouped_data_2 %>%
summarize(mean_body_mass_g = mean(body_mass_g),
max_body_mass_g = max(body_mass_g),
n = n())
grouped_data_2 %>%
summarize(mean_body_mass_g = mean(body_mass_g, na.rm = TRUE),
max_body_mass_g = max(body_mass_g, na.rm = TRUE),
n = n())
penguins
mean_vals_for_penguins <-
penguins %>%
group_by(species, island) %>%
summarize(across(is.numeric, ~ mean(.x, na.rm = TRUE)))
mean_vals_for_penguins
penguins %>%
group_by(species, island) %>%
summarize(across(starts_with("bill"), ~ mean(.x, na.rm = TRUE)))
penguins %>%
group_by(species, island) %>%
summarize(across(c(bill_length_mm, bill_depth_mm), ~ mean(.x, na.rm = TRUE)))
penguins %>%
group_by(species, island) %>%
summarize(across(c("bill_length_mm", "bill_depth_mm"), ~ mean(.x, na.rm = TRUE)))
penguins %>%
group_by(species, island) %>%
summarize(across(c("bill_length_mm", "bill_depth_mm"), ~ mean(.x, na.rm = TRUE))) %>%
arrange(desc(bill_length_mm))
elsi_data <-
read_csv("https://github.com/utkeds/f23-founds-eds/blob/main/data/ELSI_csv_export_6383262475806903427192.csv?raw=true", skip = 6)
View(elsi_data)
glimpse(elsi_data)
library(tidyverse)
elsi_data <-
read_csv(
"https://github.com/utkeds/f23-founds-eds/blob/main/data/ELSI_csv_export_6383262475806903427192.csv?raw=true",
skip = 6
)
View(elsi_data)
View(elsi_data)
View(elsi_data)
elsi_data <- janitor::clean_names(elsi_data)
View(elsi_data)
colnames(elsi_data)
dat <- tibble(name = c("Maryrose", "Isabella"),
observation_at_t1 = c(3, 2),
observation_at_t2 = c(5, 1),
observation_at_t3 = c(3, 5))
library(tidyverse)
dat <- tibble(name = c("Maryrose", "Isabella"),
observation_at_t1 = c(3, 2),
observation_at_t2 = c(5, 1),
observation_at_t3 = c(3, 5))
dat %>%
pivot_longer(!name, names_to = "time", values_to = "values")
dat %>%
pivot_longer(time:values, names_to = "time", values_to = "values")
View(dat)
dat %>%
pivot_longer(observation_at_t1:observation_at_t2, names_to = "time", values_to = "values")
dat %>%
pivot_longer(!name, names_to = "time", values_to = "values")
dat %>%
pivot_longer(observation_at_t1:observation_at_t2, names_to = "time", values_to = "values")
dat %>%
pivot_longer(observation_at_t1:observation_at_t3, names_to = "time", values_to = "values")
dat %>%
pivot_longer(-1, names_to = "time", values_to = "values")
??pivot_longer
dat %>%
pivot_longer(-1, names_to = "time", values_to = "values", names_sep = "_")
dat %>%
pivot_longer(-1, names_to = "time", values_to = "values")
dat %>%
pivot_longer(-1, names_to = c("time", "obvs_num"), values_to = "values", names_sep = "t")
dat %>%
pivot_longer(-1, names_to = c("time", "obvs_num"), values_to = "values", names_sep = "_t")
library(tidyverse)
dat <- tibble(name = c("Maryrose", "Isabella"),
observation_at_t1 = c(3, 2),
observation_at_t2 = c(5, 1),
observation_at_t3 = c(3, 5))
dat
dat %>%
pivot_longer(observation_at_t1:observation_at_t3,
names_to = "time",
values_to = "values")
dat %>%
pivot_longer(observation_at_t1:observation_at_t3,
names_to = "observation",
values_to = "values")
dat <- tibble(name = c("Maryrose", "Isabella"),
observation_at_t1 = c(3, 2),
observation_at_t2 = c(5, 1),
observation_at_t3 = c(3, 5))
dat
dat %>%
pivot_longer(!name, names_to = "time", values_to = "values")
dat %>%
pivot_longer(-1, names_to = "time", values_to = "values")
dat
dat %>%
pivot_longer(-1,
names_to = c("time", "obvs_num"),
values_to = "values",
names_sep = "_t")
dat_long <- dat %>%
pivot_longer(!name, names_to = "time", values_to = "values")
dat_long
??pivot_wider
dat_long
dat_long %>%
pivot_wider(name_from = "time", values_from = "values")
dat_long %>%
pivot_wider(names_from = "time", values_from = "values")
relig_income
relig_income %>%
pivot_longer(
`<$10k`:`$50-75k`,
names_to = "income_level",
values_to = "income")
relig_income %>%
pivot_longer(
`<$10k`:`Don't know/refused`,
names_to = "income_level",
values_to = "income")
relig_income
relig_income %>%
pivot_longer(
!religion,
names_to = "income_level",
values_to = "income")
library(tidyverse)
dat <- read_csv("https://github.com/utkeds/f23-founds-eds/blob/main/ntps2021_7341_s1s.csv?raw=true") # data on nurses in U.S. schools, by state
state_by_region <- read_csv("https://github.com/cphalpert/census-regions/blob/master/us%20census%20bureau%20regions%20and%20divisions.csv?raw=true") # data on U.S. states' regions
View(state_by_region)
View(state_by_region)
dat
dat %>% select(`..1`, `..2`)
dat %>% select(c(`..1`, `..2`))
dat %>% select(`...1`, `...2`)
dat %>% select(`...3`, 1...2`)
dat %>% select(`...3`, `...2`)
