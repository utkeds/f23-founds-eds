tidykids
tidykids %>% write_csv("week-4/data/tidykids.csv")
tidykids <- read_csv("tidykids.csv")
glimpse(tidykids)
glimpse(naep)
tidykids <- read_csv("tidykids.csv")
naep <- read_csv("naep-data.csv")
glimpse(tidykids)
glimpse(naep)
tidykids <- tidykids %>%
filter(year == 2016)
tidykids
knitr::include_graphics("https://d33wubrfki0l68.cloudfront.net/6f1ddb544fc5c69a2478e444ab8112fb0eea23f8/91adc/images/tidy-1.png")
tidykids_widened <- tidykids %>%
select(state, variable, inf_adj_perchild) %>% # select just the three variables we need
pivot_wider(names_from = "variable", values_from = "inf_adj_perchild") # specify how we want the names of the variables and their values to be created
tidykids_widened
naep <- naep %>%
rename(state = Jurisdiction)
joined_right_1 <- right_join(tidykids, naep, "state")
joined_right_2 <- right_join(naep, tidykids, "state")
joined_right_1
joined_right_1 <- right_join(tidykids_widened, naep, "state")
joined_right_2 <- right_join(naep, tidykids_widened, "state")
joined_right_1
joined_right_2
tidykids <- read_csv("tidykids.csv")
tidykids <- read_csv("data/tidykids.csv")
tidykids <- read_csv("data/tidykids.csv")
naep <- read_csv("data/naep-data.csv")
tidykids
naep
tidykids
tidykids %>% filter(state != "District of Columbia")
tidykids %>% filter(state != "District of Columbia") %>% write_csv("week-4/data/tidykids.csv")
tidykids <- read_csv("data/tidykids.csv")
tidykids <- read_csv("data/tidykids.csv")
naep <- read_csv("data/naep-data.csv")
naep <- read_csv("data/naep-data.csv")
naep
naep <- naep %>%
rename(state = Jurisdiction)
joined_right_1 <- right_join(tidykids_widened, naep, "state")
joined_right_2 <- right_join(naep, tidykids_widened, "state")
full_df <- full_join(tidykids, naep, "state")
full_dr
full_df
joined_left_1 <- left_join(tidykids_widened, naep, "state")
full_df <- full_join(tidykids_widened, naep, "state")
full_df
joined_left <- joined_left %>%
clean_names()
joined_left <- left_join(naep, tidykids_widened, "state")
joined_left <- joined_left %>%
clean_names()
joined_left
joined_left
ggplot(joined_left, aes(x = PK12ed, y = average_score_0_500)) +
geom_point()
ggplot(joined_left, aes(x = highered, y = average_score_0_500)) +
geom_point()
ggplot(joined_left, aes(x = highered, y = average_score_0_500)) +
geom_point() +
geom_smooth(method = "lm")
ggplot(joined_left, aes(x = pk12ed, y = average_score_0_500)) +
geom_point() +
geom_smooth(method = "lm")
ggplot(joined_left, aes(x = pk12ed, y = average_score_0_500)) +
geom_point() +
geom_smooth(method = "lm") +
geom_text(aes(label = "state"))
ggplot(joined_left, aes(x = pk12ed, y = average_score_0_500)) +
geom_point() +
geom_smooth(method = "lm") +
geom_text(aes(label = state))
You must specify both the x- and y- variables when using `geom_point()`. You may also want to add another geom on a new line, `geom_smooth(method = "lm", se = FALSE)` and `geom_text(aes(label = state))`.
ggplot(joined_left, aes(x = pk12ed, y = average_score_0_500)) +
geom_point() +
geom_smooth(method = "lm", se = FALSE) +
geom_text(aes(label = state))
xaringan::inf_mr()
xaringan::inf_mr()
xaringan::inf_mr()
xaringan::inf_mr()
left_joined_data <- left_join(iris, PlantGrowth, by = c("Species" = "group"))
head(left_joined_data)
?left_join
xaringan::inf_mr()
knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE)
iris
PlantGrowth
iris
PlantGrowth
PlantGrowth
```{r}
```{r}
left_joined_data <- left_join(iris, PlantGrowth, by = c("Species" = "group"))
head(left_joined_data)
band_members
band_instruments2
band_members
band_instruments2
band_members %>% left_join(band_instruments)
band_members %>% left_join(band_instruments)
band_members
band_instruments
band_members
band_instruments
band_members
band_members %>% left_join(band_instruments, by = "name")
band_members
band_instruments
band_members %>% left_join(band_instruments, by = c("name", "band"))
band_instruments <- band_instruments %>% mutate(band = c("Beatles", "Stones", "Stones"))
band_members %>% left_join(band_instruments, by = c("name", "band"))
band_instruments
xaringan::inf_mr()
xaringan::inf_mr()
xaringan::inf_mr()
xaringan::inf_mr()
=======
library(tidyverse)
starwars
view(starwars)
]
starwars %>%
skimr()
library(tidyverse)
starwars %>%
skimr()
library(skimr)
install.packages('skimr')
starwars %>%
skimr()
install.packages('skimr')
library(skimr)
starwars %>%
skimr()
starwars %>%
skim()
skim(starwars)
>>>>>>> 104b70369c3020c9abb97fb098b0052499e32467
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(educationdata)
df <- get_education_data(level = "college-university",
source = "ipeds",
topic = "enrollment-headcount",
filters = list(year = c(1998, 2008, 2018), level_of_study = "undergraduate"))
df
df <- as_tibble(df)
df
df %>% arrange(desc(headcount))
df <- get_education_data(level = "college-university",
source = "ipeds",
topic = "enrollment-headcount",
filters = list(year = c(2018), level_of_study = "undergraduate"))
df <- as_tibble(df)
df
df %>% filter(unitid == 221759)
df %>% filter(unitid == 221759) %>% View()
df %>% filter(unitid == 221759) %>% filter(race == 99 & sex == 99)
xaringan::inf_mr()
xaringan::inf_mr()
xaringan::inf_mr()
?dplyr::percent_rank()
library(educationdata)
tuition <- get_education_data(level = "college-university",
source = "ipeds",
topic = "academic-year-tuition",
filters = list(year = 2020))
retention <- get_education_data(level = "college-university",
source = "ipeds",
topic = "fall-retention",
filters = list(year = 2020))
tuition
knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE)
tuition <- as_tibble(tuition)
library(tidyverse)
tuition <- as_tibble(tuition)
retention <- as_tibble(retention)
tuition
retention
inner_join(tuition, retention)
inner_join(tuition, retention)
inner_join(tuition, retention, by = c("unitid"))
tuition
tuition <- as_tibble(tuition)
tuition
ratio <- get_education_data(level = "college-university",
source = "ipeds",
topic = "student-faculty-ratio",
filters = list(year = 2017))
ratio <- as_tibble(ratio)
ratio
ratio <- get_education_data(level = "college-university",
source = "ipeds",
topic = "student-faculty-ratio",
filters = list(year = 2020))
ratio <- as_tibble(ratio)
retention <- get_education_data(level = "college-university",
source = "ipeds",
topic = "fall-retention",
filters = list(year = 2020))
retention <- as_tibble(retention)
ratio
ratio
retention <- as_tibble(retention)
retention
retention
retention <- retention %>%
filter(ftpt == 99) # let's look at the total of both full (1) and part-time (2) students
retention
combined_data <- inner_join(ratio, retention, by = c("unitid"))
combined_data
ratio <- ratio %>%
select(unitid, student_faculty_ratio)
retention <- retention %>%
filter(ftpt == 99) %>% # let's look at the total of both full (1) and part-time (2) students
select(unitid, retention_rate)
retention <- retention %>%
filter(ftpt == 99) %>% # let's look at the total of both full (1) and part-time (2) students
select(unitid, retention_rate) # to simply the data
combined_data <- inner_join(ratio, retention, by = c("unitid"))
combined_data
combined_data %>%
mutate(arrange(student_faculty_ratio))
combined_data <- inner_join(ratio, retention, by = c("unitid"))
combined_data %>%
arrange(student_faculty_ratio)
combined_data %>%
mutate(sfrr = min_rank(student_faculty_ratio))
combined_data %>%
mutate(student_faculty_ratio_rank = min_rank(student_faculty_ratio),
retention_rate_rank = min_rank(retention_rate))
combined_data %>%
mutate(student_faculty_ratio_rank = min_rank(student_faculty_ratio),
retention_rate_rank = min_rank(retention_rate)) %>%
select(unitid, student_faculty_ratio_rank, retention_rate_rank)
combined_data <- combined_data %>%
mutate(student_faculty_ratio_rank = min_rank(student_faculty_ratio),
retention_rate_rank = min_rank(retention_rate)) %>%
select(unitid, student_faculty_ratio_rank, retention_rate_rank)
x <- c(5, 1, 3, 2, 2, NA)
min_rank(x)
dense_rank(x)
min_rank(x)
dense_rank(x)
min_rank(x)
combined_data %>%
mutate(total_rank = (student_faculty_ratio_rank + retention_rate_rank) / 2)
combined_data %>%
mutate(total_rank = (student_faculty_ratio_rank + retention_rate_rank) / 2) %>%
arrange(total_rank)
directory <- get_education_data(level = "college-university",
source = "ipeds",
topic = "directory",
filters = list(year = 2020))
directory
directory <- directory %>%
as_tibble()
directory
final_ranks <- combined_data %>%
mutate(total_rank = (student_faculty_ratio_rank + retention_rate_rank) / 2) %>%
arrange(total_rank)
final_ranks %>%
left_join(directory)
final_ranks
directory
directory <- directory %>%
select(unitid, inst_name)
final_ranks %>%
left_join(directory)
final_ranks %>%
left_join(directory) %>%
select(inst_name, total_rank)
xaringan::inf_mr()
xaringan::inf_mr()
xaringan::inf_mr()
xaringan::inf_mr()
xaringan::inf_mr()
xaringan::inf_mr()
# Example of select verb
library(dplyr)
data <- tibble(ID = c(1, 2, 3),
Name = c("Alice", "Bob", "Charlie"),
Age = c(25, 30, 22))
selected_data <- data %>%
select(Name, Age)
xaringan::inf_mr()
xaringan::inf_mr()
xaringan::inf_mr()
?group_by
penguins
library(tidyverse)
library(palmerpenguins)
penguins
xaringan::inf_mr()
?summarise
penguins
grouped_data %>%
summarize(mean_body_mass_g = mean(body_mass_g))
grouped_data <- penguins %>%
select(species)
grouped_data
grouped_data <- penguins %>%
group_by(species)
grouped_data # the data is now "grouped" by species
penguins
mean_vals_for_penguins <- penguins %>%
group_by(species, island) %>%
summarize_if(is.numeric, mean)
mean_vals_for_penguins
mean_vals_for_penguins <- penguins %>%
group_by(species, island) %>%
summarize_if(is.numeric, mean, na.rm = TRUE)
mean_vals_for_penguins
mean_vals_for_penguins <- penguins %>%
group_by(species, island) %>%
summarize_at(vars(bill_length_mm, bill_depth_mm, flipper_length_mm, body_mass_g), mean, na.rm = TRUE)
mean_vals_for_penguins
xaringan::inf_mr()
xaringan::inf_mr()
xaringan::inf_mr()
knitr::opts_chunk$set(echo = TRUE)
elsi_data <- read_csv("https://github.com/utkeds/f23-founds-eds/blob/3ec3adc5462f24e42d9f164ad328fe1069144b87/data/ELSI_csv_export_638326247580.textClipping")
elsi_data
elsi_data <- read_csv("https://github.com/utkeds/f23-founds-eds/blob/main/data/ELSI_csv_export_638326247580.textClipping?raw=true")
https://github.com/utkeds/f23-founds-eds/blob/main/data/ELSI_csv_export_638326247580.textClipping?raw=trueelsi_data
elsi_data <- read_csv("https://github.com/utkeds/f23-founds-eds/blob/main/data/ELSI_csv_export_638326247580.textClipping?raw=true", skip = 6)
elsi_data <- read_csv("https://github.com/utkeds/f23-founds-eds/blob/main/data/ELSI_csv_export_638326247580?raw=true", skip = 6)
elsi_data <- read_csv("https://github.com/utkeds/f23-founds-eds/blob/main/data/ELSI_csv_export_638326247580.csv?raw=true", skip = 6)
elsi_data <- read_csv("https://github.com/utkeds/f23-founds-eds/blob/main/data/ELSI_csv_export_6383262475806903427192.csv?raw=true", skip = 6)
elsi_data
elsi_data
library(janitor)
elsi_data <- clean_names(elsi_data)
elsi_data <- clean_names(elsi_data)
elsi_data
elsi_data %>% glimpse()
clean_names
?clean_names
xaringan::inf_mr()
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(tidyverse)
library(readxl)
read_excel("ntps2021_7341_s1s.xlsx")
dat <- read_excel("ntps2021_7341_s1s.xlsx")
dat
dat <- read_excel("ntps2021_7341_s1s.xlsx")
dat
dat <- read_excel("ntps2021_7341_s1s.xlsx")
dat
dat <- read_excel("ntps2021_7341_s1s.xlsx", skip = 5)
dat
glimpse(dat)
dat %>%
select(average_nurses = 2)
dat %>%
select(State = state,
average_nurses = 2,
nurses_per_student = 4)
dat %>%
select(state = State,
average_nurses = 2,
nurses_per_student = 4)
dat_selected <- dat %>%
select(state = State,
average_nurses = 2,
nurses_per_student = 4)
dat_selected
dat_filtered <- dat_selected %>%
filter(!is.na(state))
dat_filtered
dat_filtered %>%
glimpse()
dat_filtered %>%
gather(average_nurses, nurses_per_student)
dat_filtered
dat_filtered
dat_filtered %>%
glimpse()
states_by_regions <- read_csv("https://github.com/cphalpert/census-regions/blob/master/us%20census%20bureau%20regions%20and%20divisions.csv?raw=true")
states_by_regions
dat_filtered
dat_filtered
dat_filtered
dat_filtered %>%
glimpse()
?pivot_lnger
?pivot_longer
dat_filtered %>%
pivot_longer(-state, names_to = "variable", values_to = "values")
dat_long <- dat_filtered %>%
pivot_longer(-state, names_to = "variable", values_to = "values")
dat_long
states_by_regions
dat_selected <- dat %>%
select(State,
average_nurses = 2,
nurses_per_student = 4)
dat_filtered <- dat_selected %>%
filter(!is.na(State))
dat_long <- dat_filtered %>%
pivot_longer(-state, names_to = "variable", values_to = "values")
dat_long %>%
left_join
dat_long <- dat_filtered %>%
pivot_longer(-state, names_to = "variable", values_to = "values")
dat_filtered
dat_long <- dat_filtered %>%
pivot_longer(-State, names_to = "variable", values_to = "values")
state_by_region <- read_csv("https://github.com/cphalpert/census-regions/blob/master/us%20census%20bureau%20regions%20and%20divisions.csv?raw=true")
dat_long %>%
left_join(state_by_region)
dat_joined <- dat_long %>%
left_join(state_by_region)
dat_joined
dat_joined %>%
group_by(Region, variable) %>%
summarize(mean_value = mean(values))
dat_joined
?pivot_wider
dat_joined %>%
pivot_wider(names_from = "variable", values_from = "values")
dat_wide <- dat_joined %>%
pivot_wider(names_from = "variable", values_from = "values")
dat_wide %>%
glimpse()
knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE)
tibble(name = c("Maryrose", "Isabella"),
observation_at_t1 = c(3, 2),
observation_at_t2 = c(5, 1),
observation_at_t3 = c(3, 5))
tibble(name = rep(c("Maryrose", "Isabella"), 4),
time = c(1,1,2,2,3,3),
observation = c(3, 2, 5, 1, 3,5))
rep(c("Maryrose", "Isabella"), 4)
tibble(name = rep(c("Maryrose", "Isabella"), 3),
time = c(1,1,2,2,3,3),
observation = c(3, 2, 5, 1, 3, 5))
xaringan::inf_mr()
?pivot_longer
relig_income
dat %>%
pivot_longer(names_to = "time", values_to = "values")
dat <- tibble(name = c("Maryrose", "Isabella"),
observation_at_t1 = c(3, 2),
observation_at_t2 = c(5, 1),
observation_at_t3 = c(3, 5))
dat %>%
pivot_longer(observation_at_t1, observation_at_t2, observation_at_t3,
names_to = "time", values_to = "values")
dat %>%
pivot_longer(observation_at_t1, observation_at_t2, observation_at_t3,
names_to = "time", values_to = "values")
day
dat
dat %>%
pivot_longer(!name, names_to = "time", values_to = "values")
?pivot_wider
dat_long %>%
pivot_wider(names_from = "time", values_from = "values")
dat_long <- dat %>%
pivot_longer(!name, names_to = "time", values_to = "values")
dat_long %>%
pivot_wider(names_from = "time", values_from = "values")
?pivot_longer
billboard
relig_income
library(tidyverse)
library(tidyverse)
library(readxl)
dat <- read_excel("ntps2021_7341_s1s.xlsx")
dat
state_by_region <- read_csv("https://github.com/cphalpert/census-regions/blob/master/us%20census%20bureau%20regions%20and%20divisions.csv?raw=true")
dat <- read_excel("ntps2021_7341_s1s.xlsx")
dat
state_by_region <- read_csv("https://github.com/cphalpert/census-regions/blob/master/us%20census%20bureau%20regions%20and%20divisions.csv?raw=true")
dat <- read_excel("ntps2021_7341_s1s.xlsx", skip = 5)
dat_selected <- dat %>%
select(State,
average_nurses = 2,
nurses_per_student = 4)
dat_selected
dat_filtered <- dat_selected %>%
filter(!is.na(State))
dat_filtered %>%
glimpse()
dat_long <- dat_filtered %>%
pivot_longer(-State, names_to = "variable", values_to = "values")
dat_joined <- dat_long %>%
left_join(state_by_region)
state_by_region
dat_joined %>%
group_by(Region, variable) %>%
summarize(mean_value = mean(values),
sd_value = sd(values))
dat <- read_excel("https://github.com/utkeds/f23-founds-eds/blob/main/week-10/ntps2021_7341_s1s.xlsx?raw=true") # data on nurses in U.S. schools, by state
dat <- read_excel("https://github.com/utkeds/f23-founds-eds/blob/main/week-10/ntps2021_7341_s1s.xlsx") # data on nurses in U.S. schools, by state
dat <- read_excel("ntps2021_7341_s1s.xlsx") # data on nurses in U.S. schools, by state
dat
dat %>% write_csv("ntps2021_7341_s1s.csv")
dat <- read_excel("https://github.com/utkeds/f23-founds-eds/blob/main/ntps2021_7341_s1s.csv?raw=true") # data on nurses in U.S. schools, by state
dat <- read_excel("https://github.com/utkeds/f23-founds-eds/blob/main/ntps2021_7341_s1s.csv?raw=true") # data on nurses in U.S. schools, by state
xaringan::inf_mr()
knitr::opts_chunk$set(echo = TRUE)
elsi_data <- read_csv("https://github.com/utkeds/f23-founds-eds/blob/main/data/ELSI_csv_export_6383262475806903427192.csv?raw=true", skip = 6)
dat <- read_excel("https://github.com/utkeds/f23-founds-eds/blob/main/ntps2021_7341_s1s.csv?raw=true") # data on nurses in U.S. schools, by state
dat <- read_csv("https://github.com/utkeds/f23-founds-eds/blob/main/ntps2021_7341_s1s.csv?raw=true") # data on nurses in U.S. schools, by state
xaringan::inf_mr()
