---
title: "Week 7 Slides"
subtitle: "How do I preparing data for analysis: Foundational skills, Part 1"
author: "**Isabella Velásquez and Maryrose Weatherton**"
output:
  xaringan::moon_reader:
    css: xaringan-themer.css
---

```{r xaringan-themer, include=FALSE, warning=FALSE}
library(xaringanthemer)

style_duo_accent(primary_color = "#FF8200",
                 secondary_color = "#58595B",
                 title_slide_text_color = "#222943",
                 title_slide_background_color = "#ededed",
                 title_slide_background_image = "https://brand.utk.edu/wp-content/uploads/2019/02/University-HorizRightLogo-RGB.png",
                 title_slide_background_position = "bottom",
                 title_slide_background_size = "30%")
```

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE)
```

```{r, echo=FALSE}
# then load all the relevant packages
pacman::p_load(pacman, knitr, tidyverse, readxl)
```

```{r xaringanExtra-clipboard, echo=FALSE}
# these allow any code snippets to be copied to the clipboard so they 
# can be pasted easily
htmltools::tagList(
    xaringanExtra::use_clipboard(
        button_text = "<i class=\"fa fa-clipboard\"></i>",
        success_text = "<i class=\"fa fa-check\" style=\"color: #90BE6D\"></i>",
    ),
    rmarkdown::html_dependency_font_awesome()
)
```

```{r xaringan-panelset, echo=FALSE}
xaringanExtra::use_panelset()
```


# Purpose and Agenda

What do you need to be able to work with a range of datasets? This week focuses on core data wrangling skills; it is the first of four weeks that equip you with a set of skills focused on the dplyr and tidyr packages that are part of the tidyverse. The context is accessing and preparing data on colleges in advance of building a better rating system.

## What we'll do in this presentation

- Discussion
- Reading Recap
- Key Concept: select, rename, filter, arrange
- Key Concept: Ratings and rankings
- Code-along and data
- What's next: Assignment(s) and Readings

---

# Discussion

.panelset[

.panel[.panel-name[Background]

- APIs can be very powerful, affording access to large data sets in a convenient manner
- However, they can occasionally be difficult to use to due: a) technical issues, b) challenges around the size or amount of the data being accessed, c) the degree of documentation, among others. 

]

.panel[.panel-name[Discussion Question]

- What issues, if any, did you encounter in the last week using the Education Data Portal API via the educationdata R package? How did you overcome them---or try to overcome them?
- What went well in the last week?

]

]

---

# Reading Recap

Substantive reading(s):

> Rutherford, T., Duck, K., Rosenberg, J. M., & Patt, R. (2022). Leveraging mathematics software data to understand student learning and motivation during the COVID-19 pandemic. *Journal of Research on Technology in Education, 54(sup1)*, S94-S131.

> Rosenberg, J. M., Borchers, C., Burchfield, M. A., Anderson, D., Stegenga, S. M., & Fischer, C. (2022). Posts about students on Facebook: a data ethics perspective. *Educational Researcher, 51*(8), 547-550.

Technical reading(s):

> R for Data Science, Data Transformation: https://r4ds.hadley.nz/data-transform

---

.title[Key Concept: select, rename, filter, arrange

.panelset[

.panel[.panel-name[dplyr "verbs"]


]

.panel[.panel-name[select]


]

.panel[.panel-name[rename]

]

.panel[.panel-name[filter]

]

.panel[.panel-name[arrange]

]


]

---

# Key Concept: Ratings and rankings

.panelset[

.panel[.panel-name[educationdata]

- Reminder: The [educationdata R package](https://urbaninstitute.github.io/education-data-package-r/index.html) facilitates access to the [Education Data Portal's API](https://educationdata.urban.org/documentation/index.html)

```{r, eval = FALSE, echo = TRUE}
df <- get_education_data(level = "schools",
                         source = "ccd",
                         topic = "enrollment",
                         filters = list(year = 2021, grade = 12))
```

*Documentation:*

1. The [R package documentation](https://urbaninstitute.github.io/education-data-package-r/articles/introducing-educationdata.html)
2. The [EDP API documentation](https://educationdata.urban.org/documentation/index.html)
]

.panel[.panel-name[Variables]

- Any data on *colleges*: https://educationdata.urban.org/documentation/colleges.html
- These four sources available via educationdata are likely to be particularly helpful:
    - IPEDS
    - College Scorecard
    - Federal Student Aid
    - National Association of College and University Business Officers
    
- 
]

.panel[.panel-name[Ranking]

- Creating a ranking involves 1) _accessing data_, 2) _standardizing_ different variables, and then 3) _combining_ them into a single score or rank
- This will likely involve several dplyr functions:
    - `mutate()`
    - `row_number()`
    - `scale()`

]

.panel[.panel-name[Process]

- Week 7, *this week*: Access and standardize data
- Week 8, *next week (fall break)*: Combine data and present and interpret rankings

]

]

---

# Code-along

.panelset[

.panel[.panel-name[1. Accessing]

- Tuition and fees and fall retention rates
- We'll have to access data on each, standardize them, and combine them to create a ranking

- Let's access the data

```{r, eval = FALSE, echo = TRUE}
library(educationdata)
tuition <- get_education_data(level = "college-university",
    source = "ipeds",
    topic = "academic-year-tuition",
    filters = list(year = 2020))

retention <- get_education_data(level = "college-university",
    source = "ipeds",
    topic = "fall-retention",
    filters = list(year = 2020))
```

]

.panel[.panel-name[2. Standardizing]

```{r, eval = FALSE, echo = TRUE}
tuition
retention
```

]

.panel[.panel-name[3. Combining]

- yyy
-zzz

```{r, eval = FALSE, echo = TRUE}
combined_data %>% 
    mutate()
```

]

.panel[.panel-name[EDA]

- yyy
-zzz

```{r, eval = FALSE, echo = TRUE}

```

]

]

---

# What's next?

.panelset[


.panel[.panel-name[Weekly Assignment]

- 
- 

]

.panel[.panel-name[Data]

- We'll be using data from the educationdata package, specifically

]

.panel[.panel-name[Substantive Reading(s)]

- Substantive reading(s) for the week ahead:

> Park, J. J., Kim, B. H., Wong, N., Zheng, J., Breen, S., Lo, P., … & Poon, O. (2023). Inequality Beyond S tandardized Tests: Trends in Extr acurricular Activity Reporting in College A pplications Across Race and Class. Technical Report. Annenberg Institute at Brown University. <https ://edworkin g papers.>co m/ai23-749.

Linked in Canvas.

]

.panel[.panel-name[Technical Reading(s)]

- Technical reading(s) for the week ahead:

> Data Science in Education Using R, Using School-Level Aggregate Data to Illuminate Educational Inequities: https://datascienceineducation.com/c09

> R For Data Science, Strings: https://r4ds.had.co.nz/strings.html

Also linked in Canvas.

]

]