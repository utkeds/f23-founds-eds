---
title: "Week 7 - Teacher"
author: "Teacher"
date: "Assignment Due Date"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Step 1

Load the tidyverse and educaitondata packages.

```{r}
library(tidyverse)
library(educationdata)
```

## Step 2

Let's begin by looking at the endowments of some institutions across the United States by querying the educationdata API. For now, let's use the year 2020.

```{r}
endowment <- get_education_data(level = "college-university",
                         source = "nacubo",
                         topic = "endowments",
                         filter = list(year = 2020))
```

How many institutions are included in this data frame?

-   

## Step 3

Using the endowment data frame from Step 2, let's practice our foundational skills from the week.

First, rename the institution name column to something that is more user friendly

```{r}
endowment <- endowment %>% 
    rename(uni_name = inst_name_nacubo)
```

Next, arrange the endowments from greatest to least.

```{r}
endowment <- endowment %>% 
    arrange(desc(endow_total))
```

Which institutions comprise the top 3 endowments in this list?

-   

Next, filter institutions such that only institutions with endowments per full-time employee larger than $750,000 are included.

```{r}
endowment_filter <- endowment %>% 
    filter(endow_per_fte >= 750000)
```

Do you find that institutions with the highest endowment also have the highest endowment per full-time employee?

-   

Finally, select the year, institution name, and the market value change of the endowment and arrange the change in market value of endowment in descending order.

```{r}
endowment_mkt <- endowment %>% 
    select("year", "uni_name", "endow_chg_mktval") %>% 
    arrange(desc(endow_chg_mktval))
```

## Step 4

US News and Rankings has tasked you with creating a better college ranking system. You are allowed to use any data available from the educationdata package. The focus for this week is to identify 3-4 variables you think would make a better ranking system and create the data frames with said variables. 

What are the 3-4 variables you plan to include? It might be helpful to look at the educationdata GitHub page to see what is available.

-

Now, gather the 3-4 *individual* data frames from the educationdata API. 
```{r}

```

Next week, we will be joining these data frames together into one single data frame. Remember, you must have a common "key" across each data frame to join on. That is, there must be a column with the same name for each data frame. We suggest using the institution name as your key. In this step, use `rename()` to create that key. 
```{r}

```

You may not want to include all variables educationdata pulls. In this step, use `select()` to include the variables of interest in each data frame. 
```{r}

```

Now that you have cleaned your data a bit, it is time to save each data frame as a .csv so you can access them next week.

```{r}

```

## Rubric

|                                               | Points Possible | Points Earned |
|--------------------------------------|-----------------|-----------------|
| File knits                                    | 2               |               |
| Code is accurately filled in for all 4 steps. | 10              |               |
| Step 2 Question                               | 3               |               |
| Step 3 Questions                              | 6               |               |
| Step 4 Code and Question                      | 9               |               |

## Knit and Submit

Complete the following steps to knit and publish your work:

1.  First, change the name of the `author:` in the [YAML header](https://bookdown.org/yihui/rmarkdown-cookbook/rmarkdown-anatomy.html#yaml-metadata) at the very top of this document to your name. The YAML header controls the style and feel for knitted document but doesn't actually display in the final output.

2.  Next, click the knit button in the toolbar above to "knit" your R Markdown document to a [HTML](https://bookdown.org/yihui/rmarkdown/html-document.html) file that will be saved in your R Project folder. You should see a formatted webpage appear in your Viewer tab in the lower right pan or in a new browser window. Let's us know if you run into any issues with knitting.

3.  Upload the HTML file that is now present in the same folder as this R Markdown file to Canvas to receive credit for this assignment!
