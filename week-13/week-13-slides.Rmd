---
title: "Week 13 Slides"
subtitle: "Introduction to Text Analysis"
author: "**Isabella Vel√°squez and Maryrose Weatherton**"
date: '`r format(Sys.time(), "%B %d, %Y")`'
output: xaringan::moon_reader
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE,
                      message = FALSE,
                      warning = FALSE)

library(tidyverse)

state_by_region <- read_csv("https://github.com/cphalpert/census-regions/blob/master/us%20census%20bureau%20regions%20and%20divisions.csv?raw=true") # data on U.S. states' regions

dat <-
    read_csv(
        "https://github.com/utkeds/f23-founds-eds/blob/main/ntps2021_7341_s1s.csv?raw=true",
        skip = 5
    ) %>% 
  select(State,
         ave_nurses = 2,
         students_per_nurse = 4) %>% 
    filter(!is.na(State)) %>% 
    pivot_longer(-State, names_to = "variable", values_to = "values") %>% 
    left_join(state_by_region)
```

```{r, echo=FALSE}
# then load all the relevant packages
pacman::p_load(pacman, knitr, tidyverse, readxl)
```

```{r xaringanExtra-clipboard, echo=FALSE}
# these allow any code snippets to be copied to the clipboard so they 
# can be pasted easily
htmltools::tagList(
    xaringanExtra::use_clipboard(
        button_text = "<i class=\"fa fa-clipboard\"></i>",
        success_text = "<i class=\"fa fa-check\" style=\"color: #90BE6D\"></i>",
    ),
    rmarkdown::html_dependency_font_awesome()
)
```

```{r xaringan-panelset, echo=FALSE}
xaringanExtra::use_panelset()
```

# Purpose and Agenda

This week, we'll introduced text data and text analysis. Traditionally, text data has been in the wheelhouse of qualitative researchers. However, we can use a programming language like R to carry out _computational_ text analyses---analyses that can blur the lines between qualitative and quantitative in compelling ways.

## What we'll do in this presentation

- A quick discussion
- Week 12 review
- Useful functions for analyzing text
- New text analysis package: tidytext

---

# What counts as text data?

- Text data is common across physical, life sciences, and social sciences research fields (with this last group of fields including educational research)
- Text data can take _many_ forms; what are some examples of text in your field? There are no wrong answers here!

---

## Week 12 Review

.panelset[

.panel[.panel-name[Review of the last week]

* *add reflections on mapping?*


]

.panel[.panel-name[Week 12 assignment]

* *any notes on the assignment?* or reading


]


]


---

## tidytext

.panelset[

.panel[.panel-name[tidytext]

- **tidytext Package**: A tool designed for text mining and natural language processing, utilizing the principles of tidy data.
Key Concept
- **Token**: In tidytext, a 'token' refers to the smallest unit of text analysis, such as a word, symbol, or n-gram.
- **Tokenization Process: Tidytext breaks down text into tokens, enabling efficient analysis of words, frequency, sentiment, and more.
- **Applications and Benefits**: Uses the same tidy data format we are familiar with; has great documentations and examples (see [here](https://www.tidytextmining.com/)); has basic and advanced computational text analysis capabilities
]

.panel[.panel-name[`unnest_tokens()`]

**Transforming text into tidy text:** we must break text into individual tokens. That is, each word (i.e., token) must have its own line.

- `unnest_tokens()` is _the key_ function in working with text data using tidytext

- The first argument (`word`) you must specify is the new column name the text will be unnested into.

- The second argument (`text)` is the input column the text comes from. This can be quotes, transcripts, entire documents, etc.

]

.panel[.panel-name[Example]

Here's a super small example (h/t to Run-D.M.C.)

```{r, echo = TRUE, eval = TRUE}
text_df = tibble(text = c("This speech is my recital, I think it's very vital",
          "To rock (a rhyme), that's right (on time)",
          "It's Tricky is the title, here we go..."))

tidy_df_unnest <- text_df %>%
  unnest_tokens(word, text)

tidy_df_unnest %>% 
    head(3)
```

]

.panel[.panel-name[Which text?]

- Text data can originate from a wide range of sources, encompassing both traditional and digital mediums.
- **Examples of Text Data Sources**:
  - Digital sources: Websites, social media posts, online reviews, blogs, and news articles.
  - Traditional sources: Books, journals, newspapers, and transcripts of interviews or speeches.
  - Institutional documents: Official reports, legal documents, policy papers, and corporate communications.
  - Personal communication: Emails, letters, text messages, and notes.
- **Considerations in Text Data Collection**:
  - Ethical considerations and privacy concerns, especially with personal or sensitive data.
  - Data quality and representativeness, ensuring that the text data accurately reflects the subject of study.
  - Challenges in processing and analyzing unstructured text, requiring specific tools and methodologies like Natural Language Processing (NLP).

]

.panel[.panel-name[`anti_join()`]

**Removing Stop Words:** `anti_join()` works to remove observations from a specified dataset. Here we will use the `stop_words` dataset from the tidytext package.

- Stop words are words that are not useful for text analysis (e.g., the, a, and, etc.)

```{r}
text_df_unnest %>% 
    anti_join(stop_words)
```

]

]

---

## Code-Along

.panelset[
.panel[.panel-name[Intro]

This week's code-along is a bit different: We will practice text analysis on some simple text before you perform text analysis on our class' Zoom transcript data.

- Please download this week's homework for the code-along.
- Please also download the CSV (available only on Canvas for privacy reasons) to use for this code-along _and_ the homework

]
]

---

# What's next?

.panelset[

.panel[.panel-name[Weekly Assignment]

- You'll complete this week's assignment using our class transcript data

]

.panel[.panel-name[Data Ethics]

- This is posted in Canvas ((here)[https://utk.instructure.com/courses/184613/assignments/1641272?module_item_id=3651964]) and is due Nov. 20

]

.panel[.panel-name[Final Project]

- This is posted in Canvas ((here)[https://utk.instructure.com/courses/184613/assignments/1607692?module_item_id=3562339])
- See also the Week 16 module! Let's discuss this and consider any questions you have.

]

]